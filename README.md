# AuthSafe Authentication Nodes
The AuthSafe authentication nodes let administrators integrate the AuthSafe account takeover prevention application into an AM authentication trees.

## About AuthSafe ##

AuthSafe is to predict, detect, prevent, and respond to online fraud attacks in real-time using our cognitive engine. Authsafe’s technology helps to prevent all manners of Account Takeover efforts and new online fraud account registration attack. Through manual attempts or automated tools methods, including credential stuffing.

## Installation ##
To deploy these nodes, download the jar from the releases tab on GitHub. Next, copy the jar into the ../web-container/webapps/openam/WEB-INF/lib directory where AM is deployed. Restart the web container to pick up the new nodes. The nodes will then appear in the authentication trees components palette.

## Usage

### AuthSafe Profiler Node
This node tags the AM login page with the JavaScript pixel to collect information about the event like device id.

####AuthSafe Profiler Node Configuration
In order to access the AuthSafe APIs, you require Property ID and Property Secret. These two parameters act as API keys to gain access to our APIs.

•	Property ID: This is the unique application id for your property.
•	Property Secret: This is the secret key that is needed for authorization alongwith Property ID.

NOTE: You can get the above keys only after registering on AuthSafe platform. After registration, in property settings page, you can get/generate the above keys.

### AuthSafe Request String Node
This node makes a request to the AuthSafe API to retrieve a risk signal about the user attempting login and routes to the Allow, Challenge, or Deny node outcomes.

### AuthSafe Risk Action Node
This node determines whether to take any action on a particular signal based on the Take Action flag from the node configuration. 
#### AuthSafe Risk Action Node Configuration
•	Take Action – When enabled, it takes action based on a signal. Whether using multifactor authentication or sending a password reset email.

### AuthSafe OTP Sender Node
This node uses an OTP generated by HOTP Generator Node and sends an email to the user with the OTP for multifactor authentication. 

###AuthSafe Device Approve Request Node
This node sends a Device Management Request to approve the device to AuthSafe API.

###AuthSafe Device Deny Request Node
This node sends a Device Management Request to deny the device to AuthSafe API.

###AuthSafe Email Collector Node
This node collects email from the shared state so that it can be used by Email Suspend Node to send an Email with a password reset link.

#### AuthSafe Email Collector Node Configuration
•	Attributes to Collect - A list of attributes you wish to collect based on the found attributes in the IDM schema for the object type chosen.
•	All Attribute Required - When enabled, all attributes collected in this node are required in order to continue.
•	All Attribute Required - When enabled, the content input in this node should be validated against IDM policy settings specified in the IDM schema.
•	Identity Attribute -The attribute is used to identify the object in IDM.

###AuthSafe Email Suspend Node
This node sends an Email to the user with a password reset link.

###AuthSafe Reset Password Node
This node sends a request to AuthSafe API and provides information about password reset statuses like success or failure.

 ### Example Flow
 
 
 ![SAML_TREE](./images/ExampleFlow.png)